<!DOCTYPE html>
<html lang="en">
<head>
    <title>LoungeDestroyer dashboard</title>
    <link href="../lib/css/bootstrap.min.css" rel="stylesheet">
    <link href="../lib/css/ld.css" rel="stylesheet">
</head>

<body data-spy="scroll" data-target=".navbar-collapse">

<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">LoungeDestroyer</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav" role="tablist" id="ld_tab">
                <li class="active"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>
                <li><a href="#themes" aria-controls="themes" role="tab" data-toggle="tab">Themes</a></li>
                <li><a href="#about" aria-controls="about" role="tab" data-toggle="tab">About</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>

<!-- Begin page content -->
<div class="container" id="ld_hub">
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="settings">
            <div class="page-header">
                <h1>LoungeDestroyer settings <small>version <span id="version"></span></small></h1>
            </div>
            <p>Settings are automatically saved once you have selected an option.</p>

            <h3 class="page-header">Items</h3>

            <div class="ld-settings">
                <div class="row">
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Market prices on items:</label>
                        <select id="itemMarketPricesv2" class="form-control">
                            <option value="2">Load market price automatically</option>
                            <option value="1">Only when mouse is over an item</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Use cached item price list <a href="#" data-toggle="tooltip" data-original-title="LoungeDestroyer can provide item price values where available from our own dedicated API. The item price list cache updates periodically.">(?)</a>:</label>
                        <select id="useCachedPriceList" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>

                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Steam market currency:</label>
                        <select id="marketCurrency" class="form-control">
                            <!--
                                Currencies are now populated dynamically from options.js
                            -->
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Convert Lounge prices to chosen currency:</label>
                        <select id="convertLoungePrices" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Black-list items that do not have a market listing <a href="#" data-toggle="tooltip" data-original-title="When a request is made to Steam market API for an item and there are no listings for this item, extension can black-list this item to reduce amount of requests made for non-marketable/non-existing items">(?)</a>:</label>
                        <select id="blacklistNonExistingItems" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Show weapon exterior/rarity next to Steam market price:</label>
                        <select id="displayCsgoWeaponQuality" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Allow groups in inventory</label>
                        <select id="groupInventory" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                </div>

                <h3 class="page-header">Notifications</h3>

                <div class="row">
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Notify when bots go online:</label>
                        <select id="notifyBots" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Notify about new matches:</label>
                        <select id="notifyMatches" class="form-control">
                            <option value="1">Both</option>
                            <option value="2">Dota2 Lounge matches only</option>
                            <option value="3">CS:GO Lounge matches only</option>
                            <option value="4">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Notify about new trade offers:</label>
                        <select id="notifyTrades" class="form-control">
                            <option value="1">Both</option>
                            <option value="2">Dota2 Lounge trades only</option>
                            <option value="3">CS:GO Lounge trades only</option>
                            <option value="4">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Notify about items that are going to expire soon:</label>
                        <select id="notifyExpiredItems" class="form-control">
                            <option value="1">Both</option>
                            <option value="2">Dota2 Lounge only</option>
                            <option value="3">CS:GO Lounge only</option>
                            <option value="4">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Notify on queue trade offer:</label>
                        <select id="notifyTradeOffer" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="4">Disabled</option>
                        </select>
                    </div>
                </div>

                <h3 class="page-header">Time and date</h3>
                <div class="row">
                    <div class="col-md-6 ld-setting">
                    <label class="control-label">Automatically change match time to local time:</label>
                    <select id="changeTimeToLocal" class="form-control">
                        <option value="1">Enable</option>
                        <option value="0">Disabled</option>
                    </select>
                </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Time zone:</label>
                        <select id="timezone" class="form-control">
                            <option value="auto">Detect automatically</option>
                            <!--
                                Options are generated dynamically from option.js with moment.js lib
                            -->
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">12/24 hour clock:</label>
                        <select id="americanosTime" class="form-control">
                            <option value="1">12 hour clock</option>
                            <option value="0">24 hour clock</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Display time zone abbreviation:</label>
                        <select id="displayTzAbbr" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                </div>


                <h3 class="page-header">Features</h3>

                <div class="row">
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Redirect from item draft page <a href="#" data-toggle="tooltip" data-original-title="CS:GO Lounge does an annoying redirect to item drafting page, which can be stopped by extension. This may cause some lag issues as this will keep redirecting to intended page instead of item drafting page.">(?)</a>:</label>
                        <select id="redirect" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Show trade descriptions:</label>
                        <select id="showDescriptions" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Enable auto-betting/-returning/-accept:</label>
                        <select id="enableAuto" class="form-control">
                            <option value="3">Auto-accept only</option>
                            <option value="2">Auto-betting/-returning only</option>
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Add preview buttons to trades:</label>
                        <select id="addTradePreviews" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Show match type and exact time:</label>
                        <select id="showExtraMatchInfo" class="form-control">
                            <option value="2">Load automatically for upcoming matches + on hover</option>
                            <option value="1">Trigger only when mouse is over the match</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Attempt to auto-bump trades every 10 minutes:</label>
                        <select id="autoBump" class="form-control">
                            <option value="570">Dota 2 Lounge trades only</option>
                            <option value="730">CS:GO Lounge trades only</option>
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                </div>

                <h3 class="page-header">Betting inventory statistics</h3>
                <div class="row">
                    <div class="col-md-4 ld-setting">
                        <label for="smallBetPercentage" class="control-label">Small bet:</label>
                        <div class="input-group">
                            <input type="number" min="1" max="100" class="form-control" id="smallBetPercentage">
                            <div class="input-group-addon">%</div>
                        </div>
                    </div>
                    <div class="col-md-4 ld-setting">
                        <label for="mediumBetPercentage" class="control-label">Medium bet:</label>
                        <div class="input-group">
                            <input type="number" min="1" max="100" class="form-control" id="mediumBetPercentage">
                            <div class="input-group-addon">%</div>
                        </div>
                    </div>
                    <div class="col-md-4 ld-setting">
                        <label for="largeBetPercentage" class="control-label">Large bet:</label>
                        <div class="input-group">
                            <input type="number" min="1" max="100" class="form-control" id="largeBetPercentage">
                            <div class="input-group-addon">%</div>
                        </div>
                    </div>
                    <div class="col-md-12 ld-setting">
                        <label class="control-label">Calculate inventory statistics for betting groups:</label>
                        <select id="inventoryStatisticsGroup" multiple class="form-control" size="8">
                            <option value="1" solo>Calculate for all items in inventory</option>
                            <option value="0" solo>Disabled</option>
                            <option disabled></option>
                            <optgroup label="Groups (CS:GO)" id="inventoryStatisticsGroup-730" group="730">
                            </optgroup>
                            <optgroup label="Groups (Dota2)" id="inventoryStatisticsGroup-570" group="570">
                            </optgroup>
                        </select>
                    </div>
                </div>

                <h3 class="page-header">Misc</h3>
                <div class="row">
                    <div class="col-md-12 ld-setting">
                        <p>If the cached item price list is empty, broken or out-dated, or the currency conversion rates are broken, press these buttons gently.</p>
                        <p>
                            <button type="button" class="btn btn-primary" id="refetchmarketcrap">Re-fetch item price list for cache</button>
                            <button type="button" class="btn btn-primary" id="refetchcurrencies">Re-fetch currency conversion rates</button>
                            <button type="button" class="btn btn-primary" id="updatethemes">Update theme CSS</button>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <p>If you want to restore default settings, including auto-betting/-returning/-accept delays and item groups, press this button furiously.</p>
                        <p>
                            <button type="button" class="btn btn-primary" id="restoreDefaults">Restore default settings</button>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 ld-setting">
                        <label class="control-label">Profanity:</label>
                        <select id="renameButtons" class="form-control">
                            <option value="1">Enabled</option>
                            <option value="0">Disabled</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="themes">
            <div class="page-header">
                <h1>Themes</h1>
            </div>

            <h3 class="text-center form-inline">Current theme:
                <select class="cur-theme form-control text-primary">
                    <option value="-none">None</option>
                </select>
            </h3>

            <div id="themes-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
                <div class="carousel-inner" role="listbox">
                    <!-- Populated in JS -->
                </div>

                <!-- Controls -->
                <a class="left carousel-control" href="#themes-carousel" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#themes-carousel" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <h3>Add your own!</h3>
            <div class="row">
                <div class="col-md-6">
                    <h4>From URL:</h4>
                    <form role="form" id="add-theme-remote">
                        <div class="form-group">
                            <label for="add-theme-url">URL of JSON</label>
                            <div class="input-group">
                                <input type="url" class="form-control" id="add-theme-url" placeholder="Enter URL">
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="submit">Add theme</button>
                            </span>
                            </div>
                            <p class="help-block">There are strict rules for the structure of the remote directory.</p>
                            <p class="help-block">The following must be true for the JSON at the URL, in addition to the rules found in <a href="http://github.com/ncla/LoungeDestroyer/blob/master/THEMES.md">THEMES.md</a>:</p>
                            <ul class="help-block">
                                <li>Must have a <code>name</code> key, with the value being the shortname of the extension. Same rules apply to the shortname, as does for Javascript variable names</li>
                                <li>Must have a <code>css</code> key, with a value of the absolute URL of the CSS for the theme</li>
                                <li>Must have a <code>bg</code> key, with a value of the absolute URL of the background image</li>
                                <li>If an icon is wanted, must have an <code>icon</code> key, with a value of the absolute URL of the icon image</li>
                            </ul>
                            <p class="help-block">In addition to this, the server the JSON is hosted on must allow cross-origin <code>GET</code> requests from all domains (i.e. return the <code>Access-Control-Allow-Origin: *</code> and, optionally, <code>Access-Control-Allow-Methods: GET</code> headers).</p>
                            <p class="help-block">Background, icon and CSS are hotlinked.</p>
                            <p class="help-block">Themes are automatically updated once a day.</p>
                        </div>
                    </form>
                </div>
                <div class="col-md-6">
                    <h4>User-inputted:</h4>
                    <form role="form" id="add-theme-local">
                        <div class="form-group">
                            <label for="add-theme-title">Title of theme</label>
                            <input type="text" class="form-control" id="add-theme-title" placeholder="Enter title">
                        </div>
                        <div class="form-group">
                            <label for="add-theme-description">Description (optional)</label>
                            <textarea id="add-theme-description" class="form-control" rows="3" placeholder="Enter description" style="resize: none" maxlength="140"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="add-theme-bg">Background URL</label>
                            <input type="url" class="form-control" id="add-theme-bg" placeholder="Enter absolute URL">
                            <p class="help-block">Suggested size is 960x540</p>
                        </div>
                        <div class="form-group col-md-6" style="padding-left: 0">
                            <label for="add-theme-author">Author</label>
                            <input type="text" class="form-control" id="add-theme-author" placeholder="Enter author">
                        </div>
                        <div class="form-group col-md-6" style="padding-right: 0">
                            <label for="add-theme-version">Version number</label>
                            <input type="text" class="form-control" id="add-theme-version" placeholder="Enter version">
                        </div>
                        <div class="form-group">
                            <label for="add-theme-css">Theme CSS</label>
                            <textarea id="add-theme-css" class="form-control" rows="6" placeholder="Enter CSS"></textarea>
                        </div>
                        <button type="submit" class="btn btn-block btn-primary">Add theme</button>
                    </form>
                </div>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="about">
            <div class="page-header">
                <h1>About</h1>
            </div>
            <p>LoungeDestroyer makes a shitty website more bearable, enough said.</p>
            <a href="https://www.youtube.com/watch?v=fJrGo92Qwk0" target="_blank">Here is theme song for LoungeDestroyer</a>
            <div style="margin: 10px 0;">
                <a class="btn btn-primary" role="button" href="http://reddit.com/r/loungedestroyer" target="_blank">Subreddit</a>
                <a class="btn btn-primary" role="button" href="http://github.com/ncla/LoungeDestroyer" target="_blank">GitHub</a>
                <a class="btn btn-primary" role="button" href="http://steamcommunity.com/groups/loungedestroyer" target="_blank">Steam group</a>
                <a class="btn btn-primary" role="button" href="https://github.com/ncla/LoungeDestroyer/issues" target="_blank">Report a bug</a>
                <a class="btn btn-default" role="button" href="#" id="reportlog" style="display: none;">Generate report log</a>
            </div>
            <div class="form-group" id="reportlog-textarea" style="display: none;">
                <p>Report log:</p>
                <textarea class="form-control" style="height: 200px"></textarea>
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <div class="container">
        <p class="text-muted">Created by <a href="https://github.com/ncla">NCLA</a>, co-developed by <a href="https://github.com/birjolaxew">birjolaxew</a> and <a href="https://github.com/ncla/LoungeDestroyer/graphs/contributors"> the rare occasional contributors on GitHub</a></p>
    </div>
</div>

<!-- Delete theme modal -->
<div class="modal fade theme-modal-confirm-delete in" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                Confirm delete
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this theme?</p>
                <p>This action cannot be undone</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Nevermind</button>
                <button type="button" class="btn btn-danger confirm">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- Change theme CSS modal -->
<div class="modal fade theme-modal-edit-css in" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                Change theme CSS
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>Edit the CSS of <b class="theme-css-owner"></b></p>
                <textarea class="form-control theme-css-textarea" autocomplete="off" placeholder="Insert CSS here"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Nevermind</button>
                <button type="button" class="btn btn-success confirm">Save</button>
            </div>
        </div>
    </div>
</div>

<script src="../lib/js/jquery-2.1.1.min.js"></script>
<script src="../lib/js/bootstrap.min.js"></script>
<script src="../lib/js/moment.min.js"></script>
<script src="../lib/js/moment-timezone-with-data.min.js"></script>
<script src="../app/helpers.js"></script>
<script src="../app/user.js"></script>
<script src="js/options.js"></script>
</body>
</html>